model Transaction {
  id              String        @id @default(uuid())
  santriId        String
  categoryId      String
  type            category_type
  amount          Decimal
  description     String?

  orderId         String?       @unique

  source          String? // PAYMENT | MANUAL | ADJUSTMENT
  sourceId        String? // paymentId / invoiceId

  transactionDate DateTime
  createdBy       String

  isDeleted       Boolean       @default(false)
  createdAt       DateTime      @default(now())
  category        Category      @relation(fields: [categoryId], references: [id])
  admin           Users         @relation("AdminTransactions", fields: [createdBy], references: [id])
  santri          Santri        @relation(fields: [santriId], references: [id])

  @@map("transaction")
}
